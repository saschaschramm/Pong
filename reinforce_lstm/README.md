

# LSTM OPEN AI

* units = 256
* batch_size = 128

* hidden_sequence
1   (1, 256)
...
128 (1, 256)




## lstm cell 
* input_sequence = [hidden1, hidden2, ...]
* state = [cell, hidden127]

* hidden (1, 256)
* hidden_weights (256, 1024)

* input (1, 256)
* input_weights (256, 1024)

state = tf.concat(axis=1, values=[cell, hidden])
return input_sequence, state    

state.shape = (1, 512)
input_sequence.shape = ?????? (128)


# LSTM KERAS

* kernel


# TODO
use sequence to batch in LSTM project


## 1
0 0.0 0.0
40000 -20.5 207.2
80000 -20.3 219.1
120000 -20.2 221.8
160000 -20.4 203.0
200000 -19.7 200.5
240000 -20.3 198.0
280000 -20.9 195.9
320000 -21.0 195.6
360000 -17.8 192.9
400000 -12.4 197.9
440000 -6.6 191.6
480000 7.0 194.7
520000 9.7 183.7
560000 9.6 192.4
600000 -11.7 192.7
640000 -4.0 194.0
680000 -13.2 198.8
720000 -5.1 197.6
760000 -11.8 197.0
800000 4.1 196.2
840000 5.3 201.3
880000 -3.8 211.4
920000 4.4 225.9
960000 -5.0 232.7
1000000 0.6 248.1

## 2
splitted = tf.split(axis=0, num_or_size_splits=batch_size, value=input2)

0 0.0 0.0
40000 -20.0 193.4
80000 -20.3 184.3
120000 -20.4 193.0
160000 -19.4 198.1
200000 -20.3 201.3
240000 -19.9 196.4
280000 -19.6 212.7
320000 -18.6 209.2
360000 -13.4 190.6
400000 -7.2 191.4
440000 12.7 197.1
480000 9.3 187.4
520000 -4.2 209.0
560000 -0.9 192.0
600000 -15.6 192.8
640000 -0.4 200.2
680000 -11.5 199.2
720000 -4.3 188.1
760000 -2.3 187.0
800000 19.9 190.9
840000 20.8 196.1
880000 10.9 206.5
920000 18.4 192.1
960000 -21.0 188.7
1000000 -21.0 189.3

## 3
splitted = tf.split(axis=0, num_or_size_splits=batch_size, value=input2)
tf.squeze()

0 0.0 0.0
40000 -20.6 187.6
80000 -19.9 191.1
120000 -20.4 188.1
160000 -20.7 187.6
200000 -20.1 401.8
240000 -19.1 792.3
280000 -16.6 188.4
320000 -13.8 190.6
360000 -10.7 205.1
400000 -13.1 191.1
440000 -6.6 200.8
480000 -0.4 221.3
520000 0.0 194.5
560000 0.0 198.6
600000 -6.7 197.2
640000 -4.5 192.2
680000 -14.9 189.5
720000 -3.0 185.4
760000 10.8 187.3
800000 16.1 191.3
840000 12.7 192.9
880000 5.4 191.5
920000 13.0 195.7
960000 -13.5 188.7
1000000 4.9 193.2


# 4
* unstack

0 0.0 0.0
40000 -20.8 195.0
80000 -20.3 183.2
120000 -20.2 198.2
160000 -20.0 192.8
200000 -19.6 196.5
240000 -19.7 189.3
280000 -16.2 196.2
320000 -10.5 193.0
360000 -10.7 208.2
400000 -11.5 192.3
440000 -5.6 188.8
480000 -3.4 199.8
520000 0.3 198.3
560000 -1.8 197.4
600000 0.6 197.4
640000 1.9 197.9
680000 -1.9 192.8
720000 -2.0 194.8
760000 9.8 185.1
800000 9.6 181.0
840000 5.9 209.3
880000 3.4 215.3
920000 2.4 199.5
960000 2.7 187.0
1000000 -1.4 185.8

# 5

0 0.0 0.0
40000 -20.4 204.1
80000 -19.9 197.8
120000 -19.9 226.6
160000 -20.4 226.3
200000 -19.2 237.1
240000 -20.8 263.3
280000 -21.0 228.9
320000 -19.7 232.8
360000 -18.6 232.6
400000 -12.6 241.4
440000 -20.9 240.8
480000 -20.9 233.4
520000 -21.0 234.2
560000 -21.0 248.7
600000 -20.5 268.0
640000 -7.4 265.2
680000 -13.3 258.4
720000 -3.6 246.6
760000 -1.4 249.4
800000 -15.2 251.5
840000 -16.4 248.6
880000 -16.3 248.8
920000 -18.6 248.1
960000 -17.7 250.1
1000000 -16.7 248.5

# 6
* batch_to_sequence -> unstack
0 0.0 0.0
40000 -20.4 246.3
80000 -20.9 244.7
120000 -20.5 230.3
160000 -20.0 200.6
200000 -20.7 199.3
240000 -20.1 203.0
280000 -19.1 199.9
320000 -19.9 232.3
360000 -20.0 234.5
400000 -18.3 270.1
440000 -15.0 298.4
480000 -14.1 300.7
520000 -7.3 243.9
560000 -14.5 249.7
600000 3.5 247.7
640000 7.7 242.2
680000 -14.1 241.3
720000 5.6 255.0
760000 18.6 287.5
800000 -21.0 225.6
840000 -21.0 237.9
880000 -21.0 240.5
920000 -21.0 273.5
960000 -21.0 312.8
1000000 -21.0 307.0

#7
0 0.0 0.0
40000 -20.1 309.6
80000 -20.5 301.3
120000 -20.3 310.0
160000 -19.8 346.6
200000 -19.9 328.1
240000 -19.4 356.2
280000 -19.0 368.2
320000 -21.0 365.5
360000 -21.0 351.1
400000 -17.5 338.4
440000 -11.7 319.5
480000 -6.3 322.3
520000 -5.6 306.7
560000 -3.6 301.4
600000 -12.4 297.0
640000 -12.5 304.2
680000 -6.8 258.6
720000 -1.9 247.5
760000 -9.3 387.2
800000 2.7 848.1
840000 -6.9 1229.3
880000 9.8 1230.4
920000 16.1 1233.2
960000 20.1 1858.4
1000000 6.5 259.7

#8
0 0.0 0.0
40000 -20.4 188.6
80000 -19.7 184.4
120000 -20.1 184.4
160000 -20.6 2497.8
200000 -20.3 1836.2
240000 -19.2 1763.3
280000 -19.4 2370.5
320000 -19.2 1703.9
360000 -19.1 2786.0
400000 -18.2 4759.2
440000 -18.2 2118.5
480000 6.6 2234.0
520000 0.9 1335.7
560000 3.4 2962.1
600000 5.6 1154.7
640000 0.6 1755.1
680000 8.2 2414.4
720000 10.5 1992.4
760000 -3.6 190.9
800000 12.1 177.1
840000 6.5 189.2
880000 9.3 189.5
920000 5.3 199.6
960000 6.1 197.0
1000000 16.2 204.8

## 9
0 0.0 0.0
40000 -20.4 199.9
80000 -20.6 190.4
120000 -20.2 188.0
160000 -20.5 188.1
200000 -19.5 243.9
240000 -20.1 187.6
280000 -19.6 187.6
320000 -19.0 372.6
360000 -20.1 754.7
400000 -19.6 820.6
440000 -20.9 943.5
480000 -18.3 1326.8
520000 -18.0 3482.5
560000 -18.3 4211.8
600000 -14.0 1141.2
640000 -11.7 2719.3
680000 3.3 2128.2
720000 5.8 1508.6
760000 2.4 3103.5
800000 -7.6 2185.0
840000 6.2 2235.7
880000 -7.0 1944.5
920000 18.3 397.7
960000 19.0 179.8
1000000 17.4 180.4


